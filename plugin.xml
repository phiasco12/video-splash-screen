<?xml version="1.0" encoding="UTF-8"?>
<plugin id="cordova-plugin-fullscreen-video" version="1.0.0" xmlns="http://apache.org/cordova/ns/plugins/1.0">
    <name>Fullscreen Video Player</name>
    <description>A plugin to play videos in full screen without controls.</description>
    <license>MIT</license>
    <keywords>cordova, video, full-screen, custom</keywords>
    <engine name="cordova" version=">=9.0.0" />

    <!-- JavaScript Module -->
    <js-module src="www/VideoPlayer.js" name="VideoPlayer">
        <clobbers target="window.VideoPlayer" />
    </js-module>

    <!-- Android Platform -->
    <platform name="android">
        
        <!-- Permissions (if accessing external storage in the future) -->
        <config-file target="AndroidManifest.xml" parent="/*">
            <uses-permission android:name="android.permission.INTERNET" />
        </config-file>

        <!-- Register VideoPlayerActivity in AndroidManifest.xml -->
        <config-file target="AndroidManifest.xml" parent="/manifest/application">
            <activity android:name="com.example.videoplayer.VideoPlayerActivity"
                      android:exported="false"
                      android:theme="@android:style/Theme.NoTitleBar.Fullscreen">
            </activity>
        </config-file>

        <!-- Register plugin in config.xml -->
        <config-file target="res/xml/config.xml" parent="/*">
            <feature name="VideoPlayer">
                <param name="android-package" value="com.example.videoplayer.VideoPlayer" />
            </feature>
        </config-file>

        <!-- Java source files -->
        <source-file src="src/android/VideoPlayer.java" target-dir="src/com/example/videoplayer" />
        <source-file src="src/android/VideoPlayerActivity.java" target-dir="src/com/example/videoplayer" />
        
        <!-- Include video file in www directory -->
        <asset src="www/local_video.mp4" target="local_video.mp4" />

    </platform>
</plugin>
